# SoulKnight项目说明文档

> 同济大学软件工程荣誉课2020年高级语言程序设计2课程期末大项目

## 项目信息

- 项目选题：**元气骑士**

- 项目成员：

  - 1850061 阮辰伟
  - 1850091 任致辰
  - 1851009 沈益立
  - 1852612 周涵嵩

- 项目Github地址：https://github.com/ZhichenRen/cocos2d-xGameDesign

- 项目进度时间线：

  ![Gant](http://r.photo.store.qq.com/psb?/V1021wgV0HsjE6/sDZZ2M6dQymreB66Kl4kBmIZm1AZ0Ktp3BeMQrU*B0o!/r/dMMAAAAAAAAA)

  ![未命名文件.png](https://i.loli.net/2019/07/01/5d19d162d561167050.png)

## 项目开发文档

- 选用引擎：**Cocos2d-x 3.17.2**

- 辅助软件：Tiled Map Editor 1.0.3、Adobe Photoshop CC 2019、Cocos Studio、Artstudio Pro

- 支持平台：Windows

- 小组分工：

  |  姓名  |           分工           | 贡献比例 |
  | :----: | :----------------------: | :------: |
  | 阮辰伟 |                          |   100%   |
  | 任致辰 |                          |   100%   |
  | 刘雪迪 |                          |   100%   |
  | 李嘉杰 | 小兵寻路算法、跨平台研究 |   100%   |

- 类的设计及继承关系：

  ![img](http://m.qpic.cn/psb?/V1021wgV0HsjE6/Xju3IHhg632Jyq2TVhj*4TImCSqedtAP1krWUyBfc9E!/b/dLYAAAAAAAAA&bo=.wWAAlMGpQIDCaI!&rf=viewer_4)

- 评分项完成度

  - 基础功能
    - [x] 游戏开始界⾯、背景⾳乐、⾳量控制、暂停及恢复功能、退出功能 
    - [x] 键盘控制 
    - [x] ⾄少2类武器，包括不限于枪械类武器、近战武器；每类武器⾄少包括2种具体的武器，如枪械类武器包括不限于⼀次发射单发⼦弹的枪械、⼀次发射多发⼦弹枪械等，近战武器包括不限于可快速攻击的⼩范围武器、攻击速度较慢的⼤范围武器等 
    - [x] ⾄少2种普通敌⼈类型，包括不限于近战型敌⼈和远程型敌⼈；每类普通敌⼈⾄少包括2类具体的敌⼈
    - [x]  ⾄少两种道具，包括不限于恢复⽣命、增加护甲的道具，可以通过击败敌⼈获取
    - [x] 宝箱机制，开启可获得新武器或者道具等
    - [x] 安全地图与探险地图，安全地图指进⼊关卡前的地图，可以查看武器信息、敌⼈信息等，探险地图指关卡地图
    - [x] 关卡中主角死亡，探险终⽌并返回安全地图
    - [x] ⾄少包括2个关卡
  - 基础功能以外的可选功能
    - [x] 每次进⼊即使相同关卡也会有不同的游戏地图、敌⼈、道具等（Roguelike!）
    - [x] 游戏⼩地图，可以显示已经探索过的地图，可以参考元⽓骑⼠的⼩地图
    - [x] 多个可选主角，每个主⻆拥有不同的属性加成（近战攻击速度提升、枪械⼦弹速度提升、⽣命值增加等）或者主动技能（移速增加、翻滚躲⼦弹）
    - [x] buﬀ机制，主角可以获得多种buﬀ，包括不限于移速增加、⽆敌等
    - [ ] debuﬀ机制，主角会获得多种debuﬀ，包括不限于移速减慢等
    - [x] ⾦币机制，击败敌⼈可以获取⾦币
    	- [ ] 主角等级系统，⾼等级主角拥有更强的属性或能⼒，主⻆可以通过消耗⾦币升级（在安全地图中）
    	- [x] 安全地图中商店系统，可以在进⼊关卡前购买或抽取特殊道具、武器等
    	- [x] 探险地图中的⽼爷爷系统，可以在关卡中购买/获赠礼物，如武器/道具/buﬀ等
    - [x] 特殊地形，包括不限于可被破坏区域（如⽊墙）、移速受限区域（如沼泽）、通过受伤区域（如岩 浆）、机关地形（如时不时出现的地刺）等
    - [ ] BOSS型敌⼈
    - [x] 秘籍，如⼗倍攻击⼒、⽆敌等
  - 必须使用的C++特性
    - [x] STL 容器，如 std::vector ， std::map 等；
    - [x] 迭代器；
    - [x] 类和多态；
    - [ ] 模板；
    - [ ] 异常；
    - [ ] 函数重载；
    - [ ] 操作符重载；
    - [x] C++11 或以上功能。
  - 必须达成的代码规范
  	- [x] 代码在缩进、命名等⽅⾯基本遵循了统⼀和⼀致的⻛格（如 Google C++ Style）；
  	- [x] 正确、合理地使⽤了 C++ ⻛格类型转换（如 static_cast 、 dynamic_cast ）且没有使⽤ C⻛格的强制转换；
  	- [x] 尽可能地使⽤了 const 和引⽤；
  	- [x] 类的设计合理规范。
  - 其他亮点
    - [x] 游戏还原度高
      - 
    - [x] 细节丰富，画面精致
      - 
    - [x] PLIST文件的使用
      - 利用PLIST文件存储游戏文字，避免了中文乱码
    - [x] 单例模式的应用
      - 利用单例模式设计了GameData类，储存游戏数据，避免了全局变量。

- 代码亮点

  1. 

  ```c++
 
  ```
  
  2. 
  
  ```c++
  
  ```
  
3. 
  
```python
  
```

  4. 多线程的使用

  ```c++
   		
  ```

  5. PLIST文件的使用

  ```xml
  
  ```

- 踩坑记录
  1. 
  2. 
  3. 播放背景音乐所需要用的`SimpleAudioEngine`中调节音量大小的函数` setBackgroundMusicVolume`是空函数，若要调节背景音乐的大小需要自行补全代码。

## SoulKnight 游戏文档

### 游戏简介

SoulKnight是一款单机地牢冒险rouguelike游戏。

### 游戏玩法



### 基本操作

|            操作             |              效果              |
| :-------------------------: | :----------------------------: |
|        按下`WSAD`键         |   控制玩家上、下、左、右移动   |
|        点击鼠标左键         |     玩家向鼠标位置进行攻击     |
|         按下`ESC`键         |          对应技能升级          |
|         按下空格键          |       释放所选人物的技能       |
|          按下`E`键          |           与场景互动           |
| 按下`Enter`键并点击鼠标左键 | 打开输入框，可输入指令进行作弊 |

### 武器属性

- 默认属性

| 武器名 |          定位          | 攻击 | 蓝耗 | 暴击率 | 攻速 |
| :----: | :--------------------: | :--: | :--: | :----: | ---- |
|  金剑  |        近战武器        |      |      |        |      |
| 小手枪 |      远程单体武器      |      |      |        |      |
| 糖果枪 |      远程单体武器      |      |      |        |      |
| 霰弹枪 |      远程多发武器      |      |      |        |      |
|  鲸爆  | 远程范围持续伤害型武器 |      |      |        |      |

- 升级属性

### 画面概览

- 开始界面
- 安全地图
- 探险地图

## 致谢

